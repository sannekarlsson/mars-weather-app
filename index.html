<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="X-UA-Compatible" content="ie=edge"><title>Mars weather app</title><!-- Fonts --><link href="https://fonts.googleapis.com/css2?family=Abel&family=Work+Sans:wght@200;300;400" rel="stylesheet"><!-- Site style --><style>*{-webkit-box-sizing:border-box;box-sizing:border-box}body{background:#ede4de;background:repeating-linear-gradient(315deg,#ede4de 0,#f6f2ef 50%,#ede4de 100%);color:#4d545f;font-family:'Work Sans',sans-serif;text-align:center;margin:0;width:100vw;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}h1,h2,h3{text-transform:uppercase}h1{font-size:7rem;font-weight:200;margin:0}h2{font-size:2.25rem;font-weight:300;margin:0}h3{font-size:1.35rem;font-weight:400;letter-spacing:.06em;margin:.2em 0}p{font-size:.85rem;margin:0}a,input[type=radio],label{cursor:pointer}a{-webkit-box-shadow:0 1px 0 currentColor;box-shadow:0 1px 0 currentColor;padding-bottom:1px;text-decoration:none}a:hover{-webkit-box-shadow:0 2px 0 currentColor;box-shadow:0 2px 0 currentColor}.container{margin:0 auto;width:90%;max-width:600px}.row{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.vertical-padding{padding:5em 0}.small-heading{color:#978c82;font-family:'Work Sans',sans-serif;font-size:.85rem;font-weight:400;letter-spacing:.1em;text-transform:uppercase}.header{margin-top:1.3em}.hero-heading{margin-top:.6em;padding:.1em .5em}.hero-heading+.hero-heading{border-left:1px solid rgba(151,140,130,.25)}.temp-avg{margin-top:-.1em;padding-right:.16em}.degree{font-size:.7em;line-height:1.4;vertical-align:text-top}.temp-spec-container{border-bottom:1px solid rgba(151,140,130,.25);border-top:1px solid rgba(151,140,130,.25);padding:.5em 0}.temp-container{padding:.75em;width:50%}.temp-container+.temp-container{border-left:1px solid rgba(151,140,130,.25)}.temp-unit-container{margin-top:3rem}.temp-unit-toggle{margin:0;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.temp-unit-toggle:checked+.temp-unit,.temp-unit-toggle:focus+.temp-unit,.temp-unit-toggle:hover+.temp-unit{color:#4d545f}.temp-unit{padding:.35em 1em}.temp-unit:last-of-type{border-left:1px solid rgba(151,140,130,.25);left:-1.7em;position:relative}.arrow{width:1.4rem;margin:.5rem 0}.arrow-path{stroke:#978c82;stroke-width:2;stroke-linecap:round}.table{border-collapse:collapse;margin-bottom:2rem;width:100%}.table-caption{margin-bottom:2rem}.table-cell,.table-header{border-bottom:1px solid rgba(151,140,130,.25);padding:1em 0}.table-cell{font-family:Abel,sans-serif;font-size:1.1rem;letter-spacing:.01em}tbody tr:hover{background:rgba(237,228,222,.5)}@media (min-width:1000px){.previous-sols-container{max-width:1100px}.table{display:-ms-grid;display:grid;-ms-grid-columns:auto auto;grid-template-columns:auto auto;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.table-caption{grid-column:1/-1}tbody,thead{display:-webkit-box;display:-ms-flexbox;display:flex}tr{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.table-header{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;height:100%}.table-cell,.table-header{padding:1em 1.5em}.table-cell:first-child,.table-header:first-child{border-top:1px solid rgba(151,140,130,.25)}tbody tr:hover{background:initial}tbody tr:nth-child(odd){background:#f6f2ef;background:rgba(237,228,222,.5)}}.footer{background:#978c82;padding:3em 0}.nasa-info{color:#f6f2ef;line-height:1.5;text-align:justify}.link{color:#4d545f}</style></head><body><!-- Header --><header class="header"><div class="container"><p class="small-heading">Mars weather</p><div class="row" data-hero-header><h3 class="hero-heading">sol <span data-sol-day></span></h3><h3 class="hero-heading" data-sol-earth-date></h3></div></div></header><!-- Main --><main data-main><div class="container"><section class="temp-avg-container vertical-padding"><p class="small-heading"><span data-sol-season></span></p><h1 class="temp-avg"><span data-sol-temp="avg"></span><span class="degree">°</span></h1></section><section class="temp-spec-container row"><div class="temp-container"><p class="small-heading">High</p><h2><span data-sol-temp="high"></span>°</h2></div><div class="temp-container"><p class="small-heading">Low</p><h2><span data-sol-temp="low"></span>°</h2></div></section><div class="temp-unit-container" data-temp-unit><input class="temp-unit-toggle" type="radio" name="temp-unit" id="celsius" value="celsius" checked> <label class="temp-unit small-heading" for="celsius">°C</label> <input class="temp-unit-toggle" type="radio" name="temp-unit" id="fahrenheit" value="fahrenheit"> <label class="temp-unit small-heading" for="fahrenheit">°F</label></div></div></main><!-- Previous sols --><section class="vertical-padding" data-previous-sols-container><div class="container previous-sols-container"><svg class="arrow" viewBox="0 0 28 15" width="16px" xmlns="http://www.w3.org/2000/svg"><path class="arrow-path" d="M4 4 L14 11 L24 4" stroke="black" stroke-width="2" stroke-linecap="round" fill="none"/></svg><!-- Previous sols data --><table class="table"><caption class="table-caption"><h3>Previous sols</h3></caption><thead><tr><th class="table-header small-heading">Mars</th><th class="table-header small-heading">Earth</th><th class="table-header small-heading">Avg</th><th class="table-header small-heading">High</th><th class="table-header small-heading">Low</th></tr></thead><tbody data-previous-sols><!-- Nasa InSight weather api data of previous sols --></tbody></table></div></section><!-- Footer --><footer class="footer"><div class="container"><p class="nasa-info">NASA’s InSight Mars lander takes continuous weather measurements (temperature, wind, pressure) on the surface of Mars at Elysium Planitia, a flat, smooth plain near Mars’ equator. Summaries of these data are available at <a class="link" href="https://mars.nasa.gov/insight/weather/">NASA Mars Weather</a>.</p></div></footer><!-- Template for previous sols --><template data-sol-template><tr><td class="table-cell">Sol <span data-sol-day></span></td><td class="table-cell" data-sol-earth-date></td><td class="table-cell"><span data-sol-temp="avg"></span>°</td><td class="table-cell"><span data-sol-temp="high"></span>°</td><td class="table-cell"><span data-sol-temp="low"></span>°</td></tr></template><script>(function () { "use strict"; var t, e, n, a, o, r, c, s, i, l, u, d, m, p, f, y, h, S, v, g, T, A, w, D, q, x, _, L, M, E = (t = "DEMO_KEY", e = "https://api.nasa.gov/insight_weather/?api_key=" + t + "&feedtype=json&ver=1.0", n = function (t) { return { avgTemp: t.AT.av, maxTemp: t.AT.mx, minTemp: t.AT.mn, earthDate: t.First_UTC, season: t.Season } }, a = function (t) { var e = t.sol_keys.reverse(); return e.map(function (e) { var a = n(t[e]); return Object.assign({ day: e }, a) }) }, { API_URL: e, extractAllSols: a }), N = (o = "mars_data", r = 432e5, c = function (t) { try { localStorage.setItem(o, JSON.stringify(t)) } catch (t) { return } }, s = function () { var t = localStorage.getItem(o); return JSON.parse(t) }, i = function () { try { return s().sols } catch (t) { throw new Error("No sol data stored.") } }, l = function () { try { var t = s().timestamp } catch (t) { return !1 } return Date.now() - t < r }, { storeSolData: c, getSols: i, isRecentlyUpdated: l }), U = (u = document.querySelector("#celsius"), d = function (t) { return Math.round(1.8 * t + 32) }, m = function (t) { return Math.round(5 / 9 * (t - 32)) }, p = function () { return u.checked }, f = function (t) { return p() ? Math.round(t) : d(t) }, y = function (t) { var e = document.querySelectorAll("[data-sol-temp]"); e.forEach(function (e) { e.innerText = t(1 * e.textContent) }) }, h = function (t) { t.target.closest("[data-temp-unit]") && (p() ? y(m) : y(d)) }, document.addEventListener("change", h, !1), { displayTemp: f }), I = (S = document.querySelector("[data-hero-header]"), v = document.querySelector("[data-main]"), g = document.querySelector("[data-previous-sols-container]"), T = document.querySelector("[data-previous-sols]"), A = document.querySelector("[data-sol-template]"), w = function (t) { return new Date(t).toLocaleDateString("en-GB", { day: "numeric", month: "long" }) }, D = function (t, e, n) { n = n || document, n.querySelector(t).innerText = e }, q = function (t, e) { D("[data-sol-day]", t.day, e), D("[data-sol-earth-date]", w(t.earthDate), e), D('[data-sol-temp="avg"]', U.displayTemp(t.avgTemp), e), D('[data-sol-temp="high"]', U.displayTemp(t.maxTemp), e), D('[data-sol-temp="low"]', U.displayTemp(t.minTemp), e) }, x = function (t) { q(t), D("[data-sol-season]", t.season) }, _ = function (t) { t.forEach(function (t) { var e = A.content.cloneNode(!0); q(t, e), T.appendChild(e) }) }, L = function (t) { if (!t) try { t = N.getSols() } catch (t) { throw t } x(t[0]), _(t) }, M = function () { var t = "Sorry, could not find any sols at the moment.", e = "Please try again later."; S.outerHTML = "", g.outerHTML = ""; var n = '<div class="container vertical-padding"><p>' + t + "</p><p>" + e + "</p></div>"; v.innerHTML = n }, { displayAllSols: L, displayNoSolsFound: M }), O = function (t) { var e = E.extractAllSols(t); I.displayAllSols(e), N.storeSolData({ timestamp: Date.now(), sols: e }) }, R = function () { fetch(E.API_URL).then(function (t) { return t.json() }).then(function (t) { O(t) }).catch(function (t) { throw t }) }; (function () { try { N.isRecentlyUpdated() ? I.displayAllSols() : R() } catch (t) { console.error(t), I.displayNoSolsFound() } })() })();</script></body></html>