<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta http-equiv="X-UA-Compatible" content="ie=edge"><title>Mars weather app</title><link rel="shortcut icon" href="assets/favicon.png" type="image/png"><link href="https://fonts.googleapis.com/css2?family=Abel&family=Work+Sans:wght@200;300;400&display=swap" rel="stylesheet"><style>*{box-sizing:border-box}body{background:#ede4de;background:repeating-linear-gradient(315deg, #ede4de 0, #f6f2ef 50%, #ede4de 100%);color:#4d545f;font-family:"Work Sans",sans-serif;text-align:center;margin:0;width:100vw;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}h1,h2,h3{text-transform:uppercase}h1{font-size:7rem;font-weight:200;margin:0}h2{font-size:2.25rem;font-weight:300;margin:0}h3{font-size:1.35rem;font-weight:400;letter-spacing:.06em;margin:.2em 0}p{font-size:.85rem;margin:0}a,input[type=radio],label{cursor:pointer}a{box-shadow:0 1px 0 currentColor;padding-bottom:1px;text-decoration:none}a:hover{box-shadow:0 2px 0 currentColor}.container{margin:0 auto;width:90%;max-width:600px}.row{display:flex;justify-content:center}.vertical-padding{padding:5em 0}.small-heading{color:#978c82;font-family:"Work Sans",sans-serif;font-size:.85rem;font-weight:400;letter-spacing:.1em;text-transform:uppercase}.header{margin-top:1.3em}.hero-heading{margin-top:.6em;padding:.1em .5em}.hero-heading+.hero-heading{border-left:1px solid rgba(151,140,130,.25)}.main{opacity:0}.temp-avg{margin-top:-0.1em;padding-right:.16em}.degree{font-size:.7em;line-height:1.4;vertical-align:text-top}.temp-spec-container{border-bottom:1px solid rgba(151,140,130,.25);border-top:1px solid rgba(151,140,130,.25);padding:.5em 0}.temp-container{padding:.75em;width:50%}.temp-container+.temp-container{border-left:1px solid rgba(151,140,130,.25)}.temp-unit-container{margin-top:3rem}.temp-unit-toggle{margin:0;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.temp-unit-toggle:hover+.temp-unit,.temp-unit-toggle:focus+.temp-unit,.temp-unit-toggle:checked+.temp-unit{color:#4d545f}.temp-unit{padding:.35em 1em}.temp-unit:last-of-type{border-left:1px solid rgba(151,140,130,.25);left:-1.7em;position:relative}.arrow{width:1.4rem;margin:.5rem 0}.arrow-path{stroke:#978c82;stroke-width:2;stroke-linecap:round}.table{border-collapse:collapse;margin-bottom:2rem;width:100%}.table-caption{margin-bottom:2rem}.table-cell,.table-header{border-bottom:1px solid rgba(151,140,130,.25);padding:1em 0}.table-cell{font-family:"Abel",sans-serif;font-size:1.1rem;letter-spacing:.01em}tbody tr:hover{background:rgba(237,228,222,.5)}@media(min-width: 1100px){.previous-sols-container{max-width:1200px}@supports(display: grid){.table{display:grid;grid-template-columns:auto auto;justify-content:center}.table-caption{grid-column:1/-1}thead,tbody{display:flex}tr{display:flex;flex-direction:column}.table-header{display:flex;align-items:center;justify-content:center;height:100%}.table-header,.table-cell{padding:1em 1.5em}.table-header:first-child,.table-cell:first-child{border-top:1px solid rgba(151,140,130,.25)}tbody tr:hover{background:initial}tbody tr:nth-child(odd){background:#f6f2ef;background:rgba(237,228,222,.5)}}}.footer{background:#978c82;padding:3em 0}.nasa-info{color:#f6f2ef;line-height:1.5;text-align:justify}.link{color:#4d545f}.show{opacity:1;transition:opacity 520ms ease-in-out}.loader{display:none;position:absolute;top:16vh;width:100%;transition:opacity 1s ease-in-out}.loader .spinner{width:8vh;height:8vh;border-top:2.5px solid rgba(151,140,130,.5);border-bottom:2.5px solid rgba(151,140,130,.5);border-radius:50%;margin:0 auto;-webkit-animation:spin 3s infinite;animation:spin 3s infinite}.loader .loading{color:#978c82;padding-top:2em}@-webkit-keyframes spin{0%{transform:rotate(0deg)}50%{transform:rotate(360deg)}100%{transform:rotate(0deg)}}@keyframes spin{0%{transform:rotate(0deg)}50%{transform:rotate(360deg)}100%{transform:rotate(0deg)}}.hide{opacity:0}.no-script{display:flex;align-items:center;justify-content:center;height:50vh}
</style></head><body>  <header class="header"> <div class="container"> <p class="small-heading">Mars weather</p> <div class="row" data-hero-header=""> <h3 class="hero-heading">sol <span data-sol-day=""></span></h3> <h3 class="hero-heading" data-sol-earth-date="">day</h3> </div> </div> </header>  <noscript> <div class="container vertical-padding no-script"> <p>Hey, you will need JavaScript to view the daily weather on Mars.</p> </div> </noscript>  <main class="main" data-main=""> <div class="container"> <section class="temp-avg-container vertical-padding"> <p class="small-heading"><span data-sol-season=""></span></p> <h1 class="temp-avg"> <span data-sol-temp="avg"></span><span class="degree">°</span> </h1> </section> <section class="temp-spec-container row"> <div class="temp-container"> <p class="small-heading">High</p> <h2> <span data-sol-temp="high"></span>° </h2> </div> <div class="temp-container"> <p class="small-heading">Low</p> <h2> <span data-sol-temp="low"></span>° </h2> </div> </section> <div class="temp-unit-container" data-temp-unit=""> <input class="temp-unit-toggle" type="radio" name="temp-unit" id="celsius" value="celsius" checked> <label class="temp-unit small-heading" for="celsius">°C</label> <input class="temp-unit-toggle" type="radio" name="temp-unit" id="fahrenheit" value="fahrenheit"> <label class="temp-unit small-heading" for="fahrenheit">°F</label> </div> </div> </main>  <div class="loader vertical-padding" data-loader=""> <div class="spinner" data-spinner=""></div> <p class="loading">Loading weather...</p> </div>  <section class="vertical-padding" data-previous-sols-container=""> <div class="container previous-sols-container"> <svg class="arrow" viewBox="0 0 28 15" width="16" xmlns="http://www.w3.org/2000/svg"><path class="arrow-path" d="M4 4l10 7 10-7" stroke="#000" stroke-width="2" stroke-linecap="round" fill="none"/></svg>  <table class="table"> <caption class="table-caption"> <h3>Previous sols</h3> </caption> <thead> <tr> <th class="table-header small-heading">Mars</th> <th class="table-header small-heading">Earth</th> <th class="table-header small-heading">Avg</th> <th class="table-header small-heading">High</th> <th class="table-header small-heading">Low</th> </tr> </thead> <tbody data-previous-sols="">  </tbody> </table> </div> </section>  <footer class="footer"> <div class="container"> <p class="nasa-info">NASA’s InSight Mars lander takes continuous weather measurements (temperature, wind, pressure) on the surface of Mars at Elysium Planitia, a flat, smooth plain near Mars’ equator. Summaries of these data are available at <a class="link" href="https://mars.nasa.gov/insight/weather/">NASA Mars Weather</a>.</p> </div> </footer>  <script id="js-sol-template" type="text/template">
        <tr>
            <td class="table-cell">Sol <span data-sol-day>{{data-sol-day}}</span></td>
            <td class="table-cell" data-sol-earth-date>{{data-sol-earth-date}}</td>
            <td class="table-cell">
                <span data-sol-temp="avg">{{data-sol-temp="avg"}}</span>°</td>
            <td class="table-cell">
                <span data-sol-temp="high">{{data-sol-temp="high"}}</span>°</td>
            <td class="table-cell">
                <span data-sol-temp="low">{{data-sol-temp="low"}}</span>°</td>
        </tr>
    </script>  <script id="polyfill-check">window.Promise&&window.fetch&&Element.prototype.closest&&NodeList.prototype.forEach&&"function"==typeof Object.assign||document.write(' <script id="polyfill" src="https://polyfill.io/v3/polyfill.min.js?features=Promise%2Cfetch%2CElement.prototype.closest%2CNodeList.prototype.forEach%2CObject.assign"> <\/script>');</script>  <script>!function(){"use strict";var t,e,a,n,o,r,s,c,i,l,u,d,p,m,y={API_URL:"https://api.nasa.gov/insight_weather/?api_key=DEMO_KEY&feedtype=json&ver=1.0",extractAllSols:function(t){return t.sol_keys.reverse().map((function(e){var a,n={avgTemp:(a=t[e]).AT.av,maxTemp:a.AT.mx,minTemp:a.AT.mn,earthDate:a.First_UTC,season:a.Season};return Object.assign({day:e},n)}))}},f=(t=function(){var t=localStorage.getItem("mars_data");return JSON.parse(t)},{storeSolData:function(t){try{localStorage.setItem("mars_data",JSON.stringify(t))}catch(t){return}},getSols:function(){try{return t().sols}catch(t){throw new Error("No sol data stored.")}},isRecentlyUpdated:function(){try{var e=t().timestamp}catch(t){return!1}return Date.now()-e<432e5}}),h=(e=document.querySelector("#celsius"),a=function(t){return Math.round(1.8*t+32)},n=function(t){return Math.round(5/9*(t-32))},o=function(){return e.checked},r=function(t){document.querySelectorAll("[data-sol-temp]").forEach((function(e){e.innerText=t(1*e.textContent)}))},document.addEventListener("change",(function(t){t.target.closest("[data-temp-unit]")&&(o()?r(n):r(a))}),!1),{displayTemp:function(t){return o()?Math.round(t):a(t)}}),S=(s=document.querySelector("[data-hero-header]"),c=document.querySelector("[data-main]"),i=document.querySelector("[data-previous-sols-container]"),l=document.querySelector("[data-previous-sols]"),u=document.querySelector("#js-sol-template").innerHTML,d=function(t){return new Date(t).toLocaleDateString("en-GB",{day:"numeric",month:"long"})},p=function(t,e,a){(a=a||document).querySelector(t).innerText=e},m=function(t){t.forEach((function(t){var e=function(t){return u.replace("{{data-sol-day}}",t.day).replace("{{data-sol-earth-date}}",d(t.earthDate)).replace('{{data-sol-temp="avg"}}',h.displayTemp(t.avgTemp)).replace('{{data-sol-temp="high"}}',h.displayTemp(t.maxTemp)).replace('{{data-sol-temp="low"}}',h.displayTemp(t.minTemp))}(t);l.insertAdjacentHTML("beforeend",e)}))},{displayAllSols:function(t){if(!t)try{t=f.getSols()}catch(t){throw t}var e;e=t[0],p("[data-sol-day]",e.day),p("[data-sol-earth-date]",d(e.earthDate)),p('[data-sol-temp="avg"]',h.displayTemp(e.avgTemp)),p('[data-sol-temp="high"]',h.displayTemp(e.maxTemp)),p('[data-sol-temp="low"]',h.displayTemp(e.minTemp)),p("[data-sol-season]",e.season),m(t)},displayNoSolsFound:function(){s.outerHTML="",i.outerHTML="",c.innerHTML='<div class="container vertical-padding"><p>Sorry, could not find any sols at the moment.</p><p>Please try again later.</p></div>'},showMain:function(){c.classList.add("show")}}),T=function(){var t,e=document.querySelector("[data-loader]"),a=document.querySelector("[data-spinner]");return{start:function(){t=setTimeout((function(){e.style.display="block"}),500)},stop:function(){clearTimeout(t),e.classList.add("hide"),e.style.display="none",a.style.WebkitAnimationPlayState="paused",a.style.animationPlayState="paused"}}}(),v=function(){return new Promise((function(t,e){fetch(y.API_URL).then((function(t){return t.ok||e(new Error("Nasa API response not ok.")),t.json()})).then((function(e){t(function(t){var e=y.extractAllSols(t);S.displayAllSols(e),f.storeSolData({timestamp:Date.now(),sols:e})}(e))})).catch((function(t){e(t)}))}))};T.start(),new Promise((function(t,e){try{f.isRecentlyUpdated()?t(S.displayAllSols()):t(v())}catch(t){e(t)}})).catch((function(t){console.error(t),S.displayNoSolsFound()})).then((function(){T.stop(),S.showMain()}))}();</script>
</body></html>